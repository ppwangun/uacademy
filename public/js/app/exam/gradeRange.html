<style> 
.md-datepicker-calendar-pane{
z-index: 120000}

.md-select-menu-container {z-index: 120000;}
</style>


<md-dialog  style="max-width: 100%;
            max-height: 100%;
    width: 100%;
    height: 100%;
    border-radius: 0;" aria-label="Mise Ã  jour examen">

    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Gestion de la grille des grades</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
          <md-icon md-svg-src="img/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
        </md-button>
      </div>
    </md-toolbar>

      <div class="md-dialog-content" >
        <md-content layout-padding >
        <form ng-cloak name="gradeRangeForm">
            <div layout-gt-sm='row'>

            </div>

            <div layout-gt-sm='column' style=" margin: 0 auto;     width: 500px; " >
                <div layout-gt-sm="row">
                    <div layout-gt-sm='column'>
                        <md-input-container class="md-block" flex-gt-sm flex='100'>
                          <label>Moyenne min/20:</label>
                          <input name="min20" ng-model="$ctrl.grade.min20" type="number" md-no-asterisk required />
                              <div ng-messages="gradeRangeForm.min20.$error">
                                    <div ng-message="required">le champ nom UE est obligatoire</div>

                              </div>   
                        </md-input-container>
                    </div>
                    <div layout-gt-sm='column'>
                        <md-input-container class="md-block" flex-gt-sm flex='100'>
                          <label>Moyenne max/20:</label>
                          <input name="max20" ng-model="$ctrl.grade.max20" type="number" md-no-asterisk required />
                              <div ng-messages="gradeRangeForm.max20.$error">
                                    <div ng-message="required">le champ nom UE est obligatoire</div>

                              </div>   
                        </md-input-container>
                    </div>
                </div>
                <div layout-gt-sm="row">
                    <div layout-gt-sm='column'>
                        <md-input-container  class="md-block" flex-gt-sm flex='100'>
                          <label>Moyenne min/100:</label>
                          <input name="min100" ng-model="$ctrl.grade.min100" type="number" md-no-asterisk required />
                              <div ng-messages="gradeRangeForm.min100.$error">
                                    <div ng-message="required">le champ nom UE est obligatoire</div>

                              </div>   
                        </md-input-container>
                    </div>
                    <div layout-gt-sm='column'>
                        <md-input-container class="md-block" flex-gt-sm flex='100'>
                          <label>Moyenne max/100:</label>
                          <input name="max100" ng-model="$ctrl.grade.max100" type="number" md-no-asterisk required />
                              <div ng-messages="gradeRangeForm.max100.$error">
                                    <div ng-message="required">le champ nom UE est obligatoire</div>

                              </div>   
                        </md-input-container>
                    </div>
                </div>  
                <div layout-gt-sm="row">


                    <div layou-gt-sm ="comlumn">
                            <md-input-container flex-gt-sm flex="100">
                            <label>Grade</label>
                            <md-select name="grade" ng-model="$ctrl.grade.value" 
                                        md-no-asterisk ng-required='true' >
                                <md-option ng-disabled="true"><em>---Choix du Grade---</em></md-option>
                                <md-option value='A+' >A+</md-option>
                                <md-option value='A'>A</md-option>
                                <md-option value='A-'>A-</md-option>
                                <md-option value='B+'>B+</md-option>
                                <md-option value='B'>B</md-option>
                                <md-option value='B-' >B-</md-option>
                                <md-option value='C+'>C+</md-option>
                                <md-option value='C'>C</md-option>
                                <md-option value='C-'>C-</md-option>
                                <md-option value='D+'>D+</md-option>
                                <md-option value='D'>D</md-option>
                                <md-option value='P'>P</md-option>
                                <md-option value='F'>F</md-option>
                                <md-option value='E'>E</md-option>                                

                            </md-select>
                            <div class="errors" ng-messages="gradeRangeForm.value.$error">
                              <div ng-message="required">Champ obligatoire</div>
                            </div>
                          </md-input-container>  
                    </div>
                    <div layou-gt-sm ="comlumn">
                            <md-input-container flex-gt-sm flex="100">
                            <label>Points</label>
                            <md-select name="points" ng-model="$ctrl.grade.points"
                                        md-no-asterisk ng-required='true' >
                                <md-option ng-disabled="true"><em>---Choix des points---</em></md-option>
                                <md-option value='4.00' >4,00</md-option>
                                <md-option value='3.70'>3,70</md-option>
                                <md-option value='3.30'>3,30</md-option>
                                <md-option value='3.00'>3,00</md-option>
                                <md-option value='2.70' >2,70</md-option>
                                <md-option value='2,30'>2,30</md-option>
                                <md-option value='2.00'>2,00</md-option>
                                <md-option value='1.70'>1,70</md-option>
                                <md-option value='1.30'>1,30</md-option>
                                <md-option value='1.00'>1,00</md-option>
                                 <md-option value='0.5'>0,5</md-option>
                                <md-option value='0.00'>0,00</md-option>

                            </md-select>
                            <div class="errors" ng-messages="gradeRangeForm.points.$error">
                              <div ng-message="required">Champ obligatoire</div>
                            </div>
                          </md-input-container>  
                    </div>
                </div>
            <md-dialog-actions layout="row">

              <span flex></span>
              <md-button ng-click="cancel()"> Annuler</md-button>
              <md-button class="md-warn" ng-click="$ctrl.addGradeRange()"  ng-disabled="gradeRangeForm.$invalid"> Ajouter</md-button>
            </md-dialog-actions>
        </form>    
          </md-content>
      </div>

</md-dialog>

<div class="col-md-12">
    <table class="table table-bordered table-striped table-condensed">
        <thead>
            <tr class="bg-primary"><th colspan="2">Minimum</th><th colspan="2">Maximum</th><th rowspan="2">Grade</th><th rowspan="2">Points</th><th rowspan="2"></th></tr>
            <tr class="bg-primary"><th>/20</th><th>/100</th><th>/20</th><th>/100</th></tr>
        </thead>
        <tbody>
            <tr ng-repeat='rg in $ctrl.gradeRanges'>
                <td ng-bind="rg.minsur20"></td>
                <td ng-bind="rg.maxsur20"></td>
                <td ng-bind="rg.minsur100"></td>
                <td ng-bind="rg.maxsur100"></td>
                <td ng-bind="rg.gradeValue"></td>
                <td ng-bind="rg.gradePoints"></td>
                <td><button class="btn btn-default" ng-click="$ctrl.deleteGradeRange(ng.id)"><i class="fa fa-trash bg-warning"></i></button></td>
            </tr>
            
        </tbody>
    </table>
</div>